(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39bc8be4"],{"1e91":function(e,t,n){},"1ff4":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"createPost-container"},[n("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:e.postForm,rules:e.rules}},[n("sticky",{attrs:{"z-index":10,"class-name":"sub-navbar "+e.postForm.status}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.submitForm}},[e._v(" 发布 ")])],1),n("div",{staticClass:"createPost-main-container"},[n("el-row",[n("Warning"),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"postInfo-container"},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"80px",label:"执行人:"}},[n("el-select",{attrs:{"remote-method":e.getRemoteUserList,filterable:"","default-first-option":"",remote:"",placeholder:"选择执行人(可搜索)"},model:{value:e.postForm.userId,callback:function(t){e.$set(e.postForm,"userId",t)},expression:"postForm.userId"}},e._l(e.userListOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1),n("div",{staticClass:"postInfo-container"},[n("el-row",[n("el-col",{attrs:{span:10}},[n("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"100px",label:"开始时间:"}},[n("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择任务开始时间"},model:{value:e.postForm.time,callback:function(t){e.$set(e.postForm,"time",t)},expression:"postForm.time"}})],1)],1)],1)],1),n("div",{staticClass:"postInfo-container"},[n("el-row",[n("el-col",{attrs:{span:10}},[n("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"100px",label:"待修复数量:"}},[n("el-input",{model:{value:e.postForm.repairNum,callback:function(t){e.$set(e.postForm,"repairNum",t)},expression:"postForm.repairNum"}})],1)],1)],1)],1),n("div",{staticClass:"postInfo-container"},[n("el-row",[n("el-col",{attrs:{span:10}},[n("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"100px",label:"待检查数量:"}},[n("el-input",{model:{value:e.postForm.checkNum,callback:function(t){e.$set(e.postForm,"checkNum",t)},expression:"postForm.checkNum"}})],1)],1)],1)],1)])],1),n("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"text"}},[n("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.postForm.info,callback:function(t){e.$set(e.postForm,"info",t)},expression:"postForm.info"}})],1)],1)],1)],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}})])},s=[],r=(n("b680"),n("a9e3"),n("b0c0"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" upload ")]),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"/api/image_upload","list-type":"picture-card"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" Click upload ")])],1),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" Cancel ")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" Confirm ")])],1)],1)}),l=[],c=(n("b64b"),n("d81d"),n("2b3d"),n("d3b7"),n("3ca3"),n("ddb0"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){for(var n=t.uid,i=Object.keys(this.listObj),a=0,o=i.length;a<o;a++)if(this.listObj[i[a]].uid===n)return this.listObj[i[a]].url=e.files.file,void(this.listObj[i[a]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,n=Object.keys(this.listObj),i=0,a=n.length;i<a;i++)if(this.listObj[n[i]].uid===t)return void delete this.listObj[n[i]]},beforeUpload:function(e){var t=this,n=window.URL||window.webkitURL,i=e.uid;return this.listObj[i]={},new Promise((function(a,o){var s=new Image;s.src=n.createObjectURL(e),s.onload=function(){t.listObj[i]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},a(!0)}))}}}),u=c,d=(n("4970"),n("2877")),m=Object(d["a"])(u,r,l,!1,null,"1d52d8e6",null),p=m.exports,h=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak powerpaste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],f=h,b=["searchreplace bold fontsizeselect italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],g=b,v=n("b85c"),y=[];function w(){return window.tinymce}var _=function(e,t){var n=document.getElementById(e),i=t||function(){};if(!n){var a=document.createElement("script");a.src=e,a.id=e,document.body.appendChild(a),y.push(i);var o="onload"in a?s:r;o(a)}function s(t){t.onload=function(){this.onerror=this.onload=null;var e,n=Object(v["a"])(y);try{for(n.s();!(e=n.n()).done;){var i=e.value;i(null,t)}}catch(a){n.e(a)}finally{n.f()}y=null},t.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+e),t)}}function r(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t,n=Object(v["a"])(y);try{for(n.s();!(t=n.n()).done;){var i=t.value;i(null,e)}}catch(a){n.e(a)}finally{n.f()}y=null}}}n&&i&&(w()?i(null,n):y.push(i))},k=_,x=n("5f87"),C=window.location.origin+"/plugins/tinymce-all-in-one/tinymce.min.js",O={name:"Tinymce",components:{editorImage:p},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;k(C,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:g,menubar:this.menubar,plugins:f,images_upload_url:"/api/image_upload",images_upload_base_path:"",file_picker_types:"file image media",file_picker_callback:function(e,t,n){var i=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4",a="/api/image_upload";switch(n.filetype){case"image":i=".jpg, .jpeg, .png, .gif",a="/api/image_upload";break;case"media":i=".mp3, .mp4",a="/api/image_upload";break;case"file":default:}var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept",i),o.click(),o.onchange=function(){var t,n,i=this.files[0];console.log(i.name),t=new XMLHttpRequest,t.withCredentials=!1,t.open("POST",a),t.setRequestHeader("token",Object(x["a"])()),t.onload=function(){var n;200==t.status?(n=JSON.parse(t.responseText),n&&"string"==typeof n.location?e(n.location):failure("Invalid JSON: "+t.responseText)):failure("HTTP Error: "+t.status)},n=new FormData,n.append("file",i,i.name),t.send(n)}},end_container_on_empty_block:!0,powerpaste_word_import:"propmt",powerpaste_html_import:"propmt",powerpaste_allow_local_images:!0,paste_data_images:!0,code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",n.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))},images_upload_handler:function(e,t,n){var i,a,o=e.blob();i=new XMLHttpRequest,i.withCredentials=!1,i.open("POST","/api/image_upload"),i.setRequestHeader("token",Object(x["a"])()),i.onload=function(){var e;200==i.status?(e=JSON.parse(i.responseText),e&&"string"==typeof e.location?t(e.location):n("Invalid JSON: "+i.responseText)):n("HTTP Error: "+i.status)},a=new FormData,a.append("file",o,o.name),i.send(a)},convert_urls:!1})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){return window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},j=O,S=(n("a6ef"),Object(d["a"])(j,o,s,!1,null,"1ccfd604",null)),$=S.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"material-input__component",class:e.computedClasses},[n("div",{class:{iconClass:e.icon}},[e.icon?n("i",{staticClass:"el-input__icon material-input__icon",class:["el-icon-"+e.icon]}):e._e(),"email"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"email"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"url"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"url"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"number"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,step:e.step,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"number"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"password"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,required:e.required,type:"password"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"tel"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"tel"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"text"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"text"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),n("span",{staticClass:"material-input-bar"}),n("label",{staticClass:"material-label"},[e._t("default")],2)])])},I=[],V={name:"MdInput",props:{icon:String,name:String,type:{type:String,default:"text"},value:[String,Number],placeholder:String,readonly:Boolean,disabled:Boolean,min:String,max:String,step:String,minlength:Number,maxlength:Number,required:{type:Boolean,default:!0},autoComplete:{type:String,default:"off"},validateEvent:{type:Boolean,default:!0}},data:function(){return{currentValue:this.value,focus:!1,fillPlaceHolder:null}},computed:{computedClasses:function(){return{"material--active":this.focus,"material--disabled":this.disabled,"material--raised":Boolean(this.focus||this.currentValue)}}},watch:{value:function(e){this.currentValue=e}},methods:{handleModelInput:function(e){var t=e.target.value;this.$emit("input",t),"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.change",[t]),this.$emit("change",t)},handleMdFocus:function(e){this.focus=!0,this.$emit("focus",e),this.placeholder&&""!==this.placeholder&&(this.fillPlaceHolder=this.placeholder)},handleMdBlur:function(e){this.focus=!1,this.$emit("blur",e),this.fillPlaceHolder=null,"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.blur",[this.currentValue])}}},N=V,T=(n("49b7"),Object(d["a"])(N,F,I,!1,null,"9d7baaf6",null)),E=T.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[n("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[n("div",[e._v("sticky")])])],2)])},P=[],R={name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}},q=R,B=Object(d["a"])(q,M,P,!1,null,null,null),L=B.exports,z=n("61f7");n("b775");var H=n("2f96"),D=n("eef8"),U=(n("828d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[e._v(" 任务发布 ")])}),A=[],J={},W=Object(d["a"])(J,U,A,!1,null,null,null),K=W.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{"show-timeout":100,trigger:"click"}},[n("el-button",{attrs:{plain:""}},[e._v(" "+e._s(e.comment_disabled?"Comment: closed":"Comment: opened")+" "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{staticClass:"no-padding",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-radio-group",{staticStyle:{padding:"10px"},model:{value:e.comment_disabled,callback:function(t){e.comment_disabled=t},expression:"comment_disabled"}},[n("el-radio",{attrs:{label:!0}},[e._v(" Close comment ")]),n("el-radio",{attrs:{label:!1}},[e._v(" Open comment ")])],1)],1)],1)],1)},Q=[],G={props:{value:{type:Boolean,default:!1}},computed:{comment_disabled:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Y=G,Z=Object(d["a"])(Y,X,Q,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{"hide-on-click":!1,"show-timeout":100,trigger:"click"}},[n("el-button",{attrs:{plain:""}},[e._v(" Platfroms("+e._s(e.platforms.length)+") "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{staticClass:"no-border",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-checkbox-group",{staticStyle:{padding:"5px 15px"},model:{value:e.platforms,callback:function(t){e.platforms=t},expression:"platforms"}},e._l(e.platformsOptions,(function(t){return n("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)},ne=[],ie={props:{value:{required:!0,default:function(){return[]},type:Array}},data:function(){return{platformsOptions:[{key:"a-platform",name:"a-platform"},{key:"b-platform",name:"b-platform"},{key:"c-platform",name:"c-platform"}]}},computed:{platforms:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},ae=ie,oe=Object(d["a"])(ae,te,ne,!1,null,null,null),se=oe.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{"show-timeout":100,trigger:"click"}},[n("el-button",{attrs:{plain:""}},[e._v(" Link "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{staticClass:"no-padding no-border",staticStyle:{width:"400px"},attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{"label-width":"0px",prop:"source_uri"}},[n("el-input",{attrs:{placeholder:"Please enter the content"},model:{value:e.source_uri,callback:function(t){e.source_uri=t},expression:"source_uri"}},[n("template",{slot:"prepend"},[e._v(" URL ")])],2)],1)],1)],1)},le=[],ce={props:{value:{type:String,default:""}},computed:{source_uri:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},ue=ce,de=Object(d["a"])(ue,re,le,!1,null,null,null),me=de.exports,pe={name:"ArticleDetail",components:{Tinymce:$,MDinput:E,Sticky:L,Warning:K,CommentDropdown:ee,PlatformDropdown:se,SourceUrlDropdown:me},props:{isEdit:{type:Boolean,default:!1}},data:function(){var e=this,t=function(t,n,i){""===n?(e.$message({message:t.field+"为必传项",type:"error"}),i(new Error(t.field+"为必传项"))):i()},n=function(t,n,i){n?Object(z["d"])(n)?i():(e.$message({message:"外链url填写不正确",type:"error"}),i(new Error("外链url填写不正确"))):i()};return{postForm:{id:100001,time:"",userId:100001,repairNum:100001,checkNum:100001,info:""},loading:!1,userListOptions:[],rules:{image_uri:[{validator:t}],title:[{validator:t}],text:[{validator:t}],source_uri:[{validator:n,trigger:"blur"}]},tempRoute:{},listQuery:{name:"",sex:"",department:"",page:1,num:20},id:void 0}},computed:{contentShortLength:function(){return this.postForm.content_short.length},displayTime:{get:function(){return+new Date(this.postForm.display_time)},set:function(e){this.postForm.display_time=new Date(e)}}},created:function(){if(this.isEdit){var e=this.$route.params&&this.$route.params.id;this.fetchData(e)}this.tempRoute=Object.assign({},this.$route),this.getRemoteUserList()},methods:{fetchData:function(e){var t=this;this.id=e,Object(H["c"])(e).then((function(e){t.postForm=e.data.task,t.setTagsViewTitle(),t.setPageTitle()})).catch((function(e){console.log(e)}))},setTagsViewTitle:function(){var e="编辑任务",t=Object.assign({},this.tempRoute,{title:"".concat(e,"-").concat(this.postForm.id)});this.$store.dispatch("tagsView/updateVisitedView",t)},setPageTitle:function(){var e="编辑任务";document.title="".concat(e," - ").concat(this.postForm.id)},addTask:function(){},submitForm:function(){var e=this,t=this;this.$refs.postForm.validate((function(n){if(!n)return console.log("error submit!!"),!1;Object(H["b"])(e.id).then((function(e){2e4==e.code?t.loading=!1:t.$notify({title:"成功",message:"重新发布不成功",type:"success",duration:2e3})})),Object(H["a"])(e.postForm).then((function(){t.$notify({title:"成功",message:"发布任务成功",type:"success",duration:2e3}),t.loading=!1})),e.$router.push("/tasks/list")}))},draftForm:function(){0!==this.postForm.text.length&&0!==this.postForm.taskName.length?this.$message({message:"保存成功",type:"success",showClose:!0,duration:1e3}):this.$message({message:"请填写必要的标题和内容",type:"warning"})},getRemoteUserList:function(e){var t=this,n={name:e};Object(D["f"])(n).then((function(e){e.data.items&&(t.userListOptions=e.data.items)}))}}},he=pe,fe=(n("db14"),Object(d["a"])(he,i,a,!1,null,"5cb141b2",null));t["a"]=fe.exports},"2f96":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r}));var i=n("b775");function a(e,t){return Object(i["a"])({url:"/task/list/"+e+"/"+t,method:"post"})}function o(e){return Object(i["a"])({url:"/task/add",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/task/delete/"+e,method:"post"})}function r(e){return Object(i["a"])({url:"/task/getById/"+e,method:"post"})}},4970:function(e,t,n){"use strict";n("56d9")},"49b7":function(e,t,n){"use strict";n("6312")},"56d9":function(e,t,n){},6312:function(e,t,n){},"70fe":function(e,t,n){},"828d":function(e,t,n){"use strict";n("b775")},a6ef:function(e,t,n){"use strict";n("70fe")},db14:function(e,t,n){"use strict";n("1e91")},eef8:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d}));var i=n("b775");function a(e,t){return Object(i["a"])({url:"/user/list/"+e+"/"+t,method:"post"})}function o(e){return Object(i["a"])({url:"/user/getByName",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/user/"+e,method:"get"})}function r(e){return Object(i["a"])({url:"/user/add",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/user/delete/"+e,method:"post"})}function c(e){return Object(i["a"])({url:"/performance",method:"post",params:{Id:e}})}function u(e){return Object(i["a"])({url:"/user/update/"+e.id,method:"post",data:e})}function d(e){return Object(i["a"])({url:"/user/revise",method:"post",data:e})}}}]);